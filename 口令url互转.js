/**
 * @author Aming
 * @description 🐒解析url口令互转
 * @origin 红灯区
 * @version v1.1.0
 * @name 口令url互转
 * @rule ^(jd|pz)jx([\s\S]+)$
 * @rule ^(code|口令)([\s\S]+)$
 * @priority 666
 * @admin false
 * @public false
 *
 * 说明：
      1、这是红灯区插件，基于红灯区插件进行的二开 （author Doraemon）
  
      2、触发示例
          解析jd口令：jdjx ?
          格式化膨胀：pzjx ?
          自动遮掩邀请人的PIN，只保留前1后1

          链接转口令：
            codehttps://
            口令https://

      3、设置一些变量
        url转口令服务地址（默认杂货铺接口）
          set Doraemon urlCodeConver_deCodeHost http://xxxx/JCommand
        
        口令转url
          类型 （1 默认 nolan服务地址  2 rabbit服务接口 3 大奶接口，默认 3）
            set Doraemon urlCodeConver_command_type 2

          如果选择类型2，需要设置 rabbit token，以及允许自定义服务地址（默认烟雨大佬反代地址/api/command）
            set Doraemon common_rabbitToken xxxxx
            set Doraemon urlCodeConver_command_Host http://xxxx
          
          如果选择类型1，无需设置，走红灯区默认api

        京东跳转快捷打开
          set Doraemon jdJumpUrl http://xxxx?url=

  自定义：
    膨胀解析 默认格式化成bbk的助力格式CXJ_PZ_INVITE_CODES
    自定义变量名格式：
      set AmingScript PZexportName ?
    兔子：
      set AmingScript PZexportName PZ_CODE

  注意：
   1、简单测试可用
   2、无界超授可用
   3、自用插件

  ----------------------

  更新日志：
      v1.0.0 插件上线
      2023.8.14 v1.0.2 新增 功能：链接转东东口令
      2023.9.15 v1.0.3 优化 可自定义口令转换接口地址
      2023.11.9 v1.0.4 优化 url转口令 适配 rabbit公益服务 ip:port/api/genCode
      2023.11.9 v1.0.5 优化 口令转url 适配 rabbit公益服务 ip:port/api/command
      2023.11.20 v1.0.6 优化 rabbit变量名，更新需重新设置
      2024.1.7   v1.0.8 新增 设置 jdJumpUrl
      2024.1.8   v1.0.9 优化 口令解析 显示问题
      2024.3.3   v1.1.0 新增 口令解析 大奶接口，口令解析 默认 3
 */

const Doraemon_tool = require('../自用插件/mod/Doraemon_tool');
/** Code Encryption Block[419fd178b7a37c9eae7b7426c4a04203568910d7e642299bd0f9c1d8a913051dc2973026bf4666873d87bf3f77f937e701da63c3299304f640c931940cef5606b7ca254a0c5542ad07f5b196899ff390bd1d6a9db234579526014e64329eab791c860ac422ee9db5cd627104002d666edfc0e542c0ed5bda67544c41ed2b547e4c5f0df6a5bba90b85136e2a57f33f574d0acbbbc82c273a34633c024f939c8fe98a048a2bee4979167bb729978cc390e6a8f502c83c584d39fb9441558e33c5cf17546e04230678c256d82460a87244a4605668b1dd8bc398689da1be2eaf94ff30b0b3cb1962c3857d0250046fbc07978b2f7128439e1de4f9f6109a8474c137cc0ad8f34bc964623c88962e233593f65a4132f5df2795a6298df1de60fc7a6dda58a9fad1fa31d460e8db5d9d3ea887a72634b946572fe2b8d21222a1193b21c7ef389cec0f8a31332d5eb8a0cc96b8dbfaee608919a572c9a6138fe1c461a7ff04dce843db677ba1caf007d5aa5302a2c1cc82d208307b17225ea6c42f498f9a78842a3a47ab47f1e9fdedfaa4807c884467254ef80b3c4ed0b24898fd1057cb72fb083e647653fe10ac4e12e88bc6a543c984317ee9753c6646b750375bdefa63a234f4e127202661e6254f89cc698fd71100fed9e8baf9e16dbcbbad020db64bc44b969e0437e5589720cf778b3403c1c348afe1f23a0edd108210a27b35319d142e0dff8c1b9958816b51d7a61dc1823747c5d5812449c337c28010fd950fa523f11dde32f351628ac53f5a652cef439b8bf225007c66194fc33ef7fed8d89a2b62bdca2efd75546e629d11bb04998fbd2f83012b4671edffc962462b0e18272731682c83c2a4d5b733a2204306af3f86e2c92d7bd39aff06b1b24935b83bb8c62fc200cd47e1d4962ca3578a95bafdf03b810fd08ca0d3c8d4af0572ad8626569091a18e62a3482fb2a6ec9472386ee9014477470549e67dcaf5f798ae8f36e26097f2f097d2519e90c1f585921428e3c02b27bc81e45c289ec55c64c449165f3e91e4ad6df11e3dba3b3543380413d475b5f68837c968f88632046c7cf404e7e264b632486bb36d5572530c46abb1e821f3f561d7f8e404e540c3d343b114067bb3b21a3b43295afc607c17885dd18be0374ac3a3082beda5907fcd4db9b28b07e11f37a451f2ab6c9c99b48b98f1ba43f40362a48465e7c1d4c75d9c09b773ce119d2de5c1306bd84d9278b00c8800fe0f9c5a1433f8873dd58c3895e2a88957b0d26c07c0ab33d3ad2bd0620ba2f8e03a80537a01f2d145687b85d152f6ae20f07c252a42e2d4cbbdf6578add320657337481288abaa4873e32bc70d025f99cba172239f492734fc192fcc81a41e82c74d582ae4f31abc63f46af7d0081899292aec38877f8a51cda9f538ed593eaab51ffe77e709300af9ee897a40bd38779e19c2e8da0dcd93b4d0f1d7d8b9d324b4b2f7a06577af35b9a95683946dbf6e07cfd28d8bd2d2b111919300dd02d04067c3f45d8c589b7ee0c46406b18a0c20a749b22bc8209ed709fec9f4cb01a2a6b0d8a0e2baf18b646ac11a129cd7d0e852b2fa436dee0a3a685eaf89db8893ab24f35ced2b602ebc86e56c2633e2aea0b42b3f5e6440550b454f998fcaaa5bb548e4178bb3ea03fd5a05106ab98ee99ab4be464d2af91e6f55bad57d6a86d0375a444d6e722aee2222fb34577e60a9306d6d03bb5af93e9a256b45b2cead0c07de55559cb05ecce38d1074a7ffa9cad73b0870f5413b36d1a9e3b5616703b888d12298689df56721c6c519ec720a0b6a335342e9bdea567e59223cdec564fd7f6cadd7776d634918d4bb3edb9f2ca82aef28121deeb0c57925750c89af202a4ba9c7599c700a762a6528a44b21abc03eea4f682a0e7e58da4e9d04553728f1f63e271f776e46bc5485bba9af8e104d47f01a533e571b45ab493373c0f0be326ee5f278a1c3bac44c41415827fae525a4bb20d7eb8c74bf2f4acc1f9ea370b5ffcfee9e8648ae41aa7d624efda44ef6a19d2cab9b56a5974f61e6ac728a986b41dbfe6730dfab212546ad7c97d88b9656f2ef460d7680664736021d8ac60304cacff6fc2ae48a4ccde9e71f50e33e9a453c83029e2b5b35195f6b733b0386c5e8be9641f2076c8f3b51c50e31d0d0c25ba63d87f7ae7538a785f216c5cff5ed649c22fd2bc398b2618bc1422c460f10ea45800b66a01a3f76e4fe142d3fda7ba9ef914bd9435226a9a125c835e4d8382e62e811606f93a04ff7669af773664472222a1ffa182088561e15189510315ac348a0477ebde1814cfa03827afcbea4241c03c1b6a36baf6fb205084385cadfab8917069c4191d93684335f07b64a0511c573d498f781f0ab7c0c0a0c9a5414473cfaa21ac376aee72830e25979fd0f7590fc4bdc41298bf1772d5270321773bfccdb7d6228345dde62cd0c804a004afeb0981893542dea6b5ea36ef5dc6acbd361d5da9e042a935342ec9d9fbbb77966d373a9632bcdad7e8a5c14c8adc68cd8d8490c6b3e512cd732592e5e5af75fd35947b0c674971bc5cbac0852e2aa79cdbc14df13f8e7e4b80f32987fa466772d0035cade1880103fb12a1e1e49dcf01be5b845eaea77c77f94a2137ac5ffa6605fd819bfcfc0143fb64d0b68e99995021000e10d3a5f27955650643ee57cb2b18cf81a08cbe19f9fbaeb0af179a4dada1ca6cd76cd1d135f4f3ee6dab1e30adbe5b67a23ef9bf6946e8e3dac0a04d97defc29ddfba4eeb8c4a91b6e8d0a23b99f0cc7750f84079cbd049bddd6fe216c6074c7bddbde07861c8935df2b69fa4fe5cab80daed1f496b4a287ce13c66766cb71e685df832a5c4b59d85e412b4356399c7f53374070a575e33b0d5403bb664bd8c2567002d10be61f32e7ed6a629c5fc3af7486342baae366cf99861436895105c6368eb375cc5706bf36e6df6e0e0dcb838f2eb1dfd529e4ee3b36068edb1a91f91562e479dee689b7c13e5837be4cbf5d3fcaf56dee6f26e78218e4a12a1abbd7ee190b28fb55870ce8ccf3a4fcbbf5a42622a216d214edee9f44885424a2079c0d475ed0acdf9b69ac038fe14c5200511ea9e7e57613f29ce5aa6757ad93c5a7b07abb88ca60603492b6c7131c01e956c71f552c973ac236857708fa358ad4a94db7697e39f5d383c312dca3705d75e7e02e7bc225a907e06170be35cf29b7677976341809d2490e8744e97e7132094833e19184046aeac775235f2b6bb5b9e1ea422c9ca2381df1ca98ebd70eafcedaee13ab47271231b9de64c29c5bde5cf4558a139fcffe39bf51814ac8effde2f2496ab5110911a6c2c5190fa0bcf5b1ede2116d27a33efb290aa4a78e1806eb95761fe06aa96c28d1e77760900581385a24326bf3276c4d91204a4c33033643989fa4601a6284bd1af6212798c7e8d146f8c87e6098d2f55ddf422c7baeca2def134dd87f8c48bb5fb67ce373ed4a8383bc9f90a845a55a6d15981ccc835d36ffbd285e8768457e624fe6460981824cf8d33f71dd52ce6da4f9dfdd7735355500b942d63f4c50048149b3630a8e774fd8c405c48ace61456c0194fb93e366967284736db9fc78c413790c1df419e4cb6065931718417c66c1a8f3aaffe23dcbd0745eea96fa1539a88c53e6bafdccf3740f3eb20e64c560f87d8fefe5b1fd3aca1560a5c53d86b0677f4d347ee69be897556a851d3b1738ccc2e0bf6e7f610f28fdea0fbd2136c0dd4b8a8e9eb1f195ead6b899241d36742d10f2ba4f4b19af7ea0f12d28b4756fc89b67f35afbc692f6e06deddc51299741b9682623133636e5b500a90a8eb8ce932e4752d3d4a74b86ef7056a3345df49817927eae1f94359f201a60ea3023f2ae4cc7580d0f8a0af2a4764f054781b5b46b052ffa82122f8205d9a511dc7b8df28a74b38ae7a0cad48d16042a0685acc8063dc3fef28abbb944ca981b1b540e1dbad5e467cfe5f58dc0693644d33800794203a8ba8cbdcf424ba98a2f69cccf29b8a2812e546046f20711a074a6a71e50dd4843ceb811c9312e0ae90b609cbb5a92838f569a1e48008502415a7fca004026aa1df5d5b0a26c9ec01c2313271cff285cf26b179b7d0facabef148ca8b59046f39d77b03bd541371a900a4ff52f3cfc139c0810e0da80ec5ca99c01adfa90787ee7da5886ab5913c8aa0b76b227740b192c52723998c1e0249ec20a7b2d97166c31b87a0352dfb3c7da562bf0aac853fab9ae3fdc570d29b80452fa66514e030f1e24ce981ebc3fb314768f1da7956d927663e38a921807456d21c7a48da76acaf64fd763754df080cfbc33ab961a117334e16a30969c1fcc598f769a4178a40ddad9f066eeb6d7ee8725ae5f0cecfb09cc3fb8d8cec2b2ec3bb8a16040a13a7df841d768ae381b3c39ad1dee518766f89d87f36ed3ad3c512c991916fab333fa655724e6bdfb8346e4161d6f20832151d16e2c842f49b2ab388d721f7e1a83587c5a412babddca01cb9e040344191ba8de10b84f3544ea5959b1c74dbc7b5bcf931144cffaed1bee3b16b4a6d980b66e7c3400fef38bedd64831fee37e975d782e5a9292ecf0b689292de736534abacd173be81d50fd2549144cf509af212d] */