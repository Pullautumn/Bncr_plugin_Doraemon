/**
 * @author Doraemon
 * @name ck检测
 * @origin Doraemon
 * @version 1.0.3
 * @description 检测ck有效性
 * @rule ^(ck检测)$
 * @admin true
 * @public false
 * @priority 1000
 
   说明：

    1、在红灯区同级目录创建一个文件夹，名字随意 如：自用插件

        ck检测.js 放到自用插件下
    
    2、设置一些变量
      （必填）执行面板 对应红灯区奶酪棒位置，从0开始
      set Doraemon ck_check_qlIndex xxxx

      设置是否自动通知过期，默认false
      set Doraemon ck_check_sendMsgFlag true

      设置提醒的内容，默认（您的账号已过期，请尽快登录哦）
      set Doraemon ck_check_sendMsgLog 您的账号已过期，请尽快登录哦
    ---------------------
  功能：
    1、主动命令触发检测指定容器ck有效性 （已实现）

    2、检测完毕后，针对失效的ck进行自动禁用 （设想）

    3、支持针对失效的ck，通过无界奶酪棒的绑定关系推送消息给用户 已实现


    更新日志：
        v1.0.0 插件上线
        v1.0.1 支持针对失效的ck，通过无界奶酪棒的绑定关系推送消息给用户
        v1.0.2 修复v1.0.1bug
        v1.0.3 通知优化，配置读取数据库
 */

const axios = require('axios');
const ql = require('./mod/ql');
const QlMod = require("../红灯区/mod/AmQlMod");
const USER_AGENTTool = require("../红灯区/mod/USER_AGENTS");
const Doraemon_tool = require('../自用插件/mod/Doraemon_tool');

//插件入口
module.exports = async s => {
    /** Code Encryption Block[419fd178b7a37c9eae7b7426c4a0420314bc7da91b63fdc5e2fcda2bd7a0f163718baa949d4ec6f8310059bb8a13420813e645da4ca591f74f2fc1ce0841aec4c41dcb1cb0416cf6b323665f82200d684503bf4145bc6301bbb8e306bc5b17c15dcd8096b6aea623b93817f65229d76e58f893a1afb18f3ce86bbe603e10ff731623875761ec4d2920497e9b7b4d7f744a3576d3fb3efbbd7c067149882b880c709ea7285dbcae1d90dd90992106a88f45883c36ff2b83977dc0cb321d294b90cf1841209d41befbe8d33b1eb2bc57a6952723cf6541ffc34a6a60a3e64319423f8c42bd73b37496e4e3142d7c65c0402e10d4d0fe18722f14d2ca130ae9e1160698576d28fd933d0d6c941a134da1e0aa1345ce5385a73dae4cbe10e4113603f073d26d578e464259f5a8b29b189ba6e76ded4371026da64dff60eb52121e79e6ae8e6dc3ebace1c7eb8cd180a37efb1d29404db96c8ec6d5df577f94f05cd6f511f261494fda256e7f784f4bc8852a2c3ebcb69ddec530b9043bd48ead6c6efb97d52927afc8d09518a23ccda4a960c62f2f84743a655ed66115b4fbb7e5641f94c1c5f8e2da9f683a9168422685c92efc724626c87fcd7c73c70f2da3d920bbaa5a63ed62183f444d26b4067dd5e2b671f2bbaf04919f1df4432fd0546ba163f7389393adfb6e0e7fb1e3f84da998c108c133ada8780cbe35840059501bbdf7ed02eeb0dcf56b2fed22e1d7aca53f92163a31aad7d993c8a4bfcb373bb857074eafd6217edeb9793a76a9d96e12218b94f60c0b362229343543ec0cfb4446efad2b4efb2bf7aad24c152cec133347f44ce07f91cff1a89e7e5820811fe1659330b13a89040ed38f39359b5ad1b65a9e5a40e5e5fae2c467309b54927b25920114a97fb8b7e44d38547b17784fce68846c63929e6dbaa09c5757526b43e1bfddf10f3a07f93049405faded75005eefc67ba64e8cb1f0a38ce95c1ef4797592c7ea95ac2bc6eaa1e4f5e2bb882b6679af236362ee59edd306783ca4475acc596a32ea7f29820d21876fc5d42f788774e73d073ebb4f93727844708f0e616e37708fccda5ea8680f407b0214c387f0611b63df9daddd505bfc0cc8d888bad5f9eb6e3466d476b477d50ab6fd87fe4c6455bf8ee75cf2862430bbd33eda0837166306c1da84b83fd00a751a144e344b8313bef7c3247715d21fcb0cbc2e13ca61c185ff13caebf5ab55cea2a966a2c820ce53e8477a3ddffbb91b462d6e675493abb8ed1926256f76d82082462bd4e82b5d995102fb8cb7547c3fcbde752a60e410fbc28ee95ebda4bdb4b51f0bd6a32ace70e2933b7b1495af9221c79b373201b211e25e38fb41024801492a7197025434fb7eb4cbe4484f2d37808ae6ce19741f14e243351a1b5aa603e34c5e8b1cbe38f00b4080191155dd815382b74839ca9efa659299e3d29f2e8887d0d215036c6a53b4431681bc0829c79a559b3e96db57ca672ecafbcfb7227cf9b36bcbb63ef8e35e6db94521954f67f22ec9b6dd0aa767653d2944b8844a715cf06c571143ddbb69c0210fb76415b7973cc6964fea3e83c44f5ae8d3f64e79c41b1b01078f6adfbaf802830043a7a77da11a1d63ae040c7c4de344d3d4ad7d0021c16b87cb6d9036c778f05b61d42da303da2d1a8ff20a709c0b5f807b6fcd9636f3605cd3669c3c9af43a175d5b2357baa13ff7a3620caa89eda14e519dfcad90f86b8838519fdefe75cf74853d79e8c09a426690d0690b2cba045854626e4c2ab8b7674ebcbd09a70adeaf70d1298b5ea0f3aaca7939557cb6bea0d59f27d49e200011d1a3309a774de8f4b63adcaee072bbef7c4811220758b4e275c6b3c55d42a80e6a68decedbbfc2194da93a175eb7f27cb262213979394128d1c120e78d402541868360e88e738df03bdb55c2e5e0aa4ca460312227b7ebbbb99a116bd94daf1706d1081d3c4e55a9295dddbb244482230f3ab170482653c25c197dfd3dc8b1a1a4cc0da5eaf13dab13f1ff6e30c55b6097c618f195881747f36858e282f58bd8c48b081b323cf566154e40b6796678b83ae5951a575bdc6ba0e4d7e962a6118b7e3c349636b58d206cd300c032283c6acf376261f1aa88e221474da1883a86ac8e35aa917fba1ba6124b40f13d048fb87d3b3be8b31f99cae87fc49a0ba0a1a90b4c211ec643fc94633dcc9bdff79062c323e25fca674e3182e509860877a2077df53236ca8b2840a6ac148df4eb9ea9566de4eb1acfe12cb8b7cb3778c17fe1982185def203b8527ced513d35ca5b963f63ebb39eed4bb2bed926204b8fca8bc6b6d45d9bc4d5a25bb0bfa30f7e0581796bb6c389e4ad190baa1442e9b06aa15ad4a6bb9a53915f38bf810110e53b98d1219aaee80eb6215adb29e488e8ce4ff2c563c57dae715c7c2edc6cadb21d67af287c6b54ba5876f47d8401234970c8d507258e707a5d4e7fee9c248f8763a6355fc424077206b05ec42c50cedc31e97b3e37a8811f3cba9aeb9127e1196845130d0e1e6d95dc00278719e60d92f075fcd9e749899dcdddea9aab58e952a7411696710f5f3d6084b8bf7dfe0393bbd1de363ef111b49f502fd13ecec309f9aa9ed1a44eeb59363177f92dce1f21dd76b5d3ce03e2b4678e6de638e67e7427b64da2f561a228a66d06304ac20cc8314b85fd9d77e24adce4c4fb4aaee153e4a7afefe4db4675d2786fc6fc6260636e3768e099ea59ff8964d4845867552b0b5a518c6c00d27e53d97e87ccce2646cb4c035e4f7ab3260150e1bd54ed6eda99f2fa21916cfb65ff19c4ef7e0ca53f3c442c47a83076048fb3b8524f8d44946c5cba9f112cf45c206d5b52cd1beb148ac493cb8f4f12f15737c882b25ef512335b2044dbe384a806d47cc86af9f388872a07ba6fbd56aff229dc604cfdf1cf7cc838a79549d9b2ec0ebb0c69d0688368101d6cb53b74e1ff3a4374ed522653094878dd4eed412ead6700c872088eec195c5f03a77f25698faf49703ea4b75cb06476f2410622ebcd065de8fd722156e6300412e57da9e1f7449ebe41ab180538837cf462d71206aa645c940c6a91ebafaef0cbbeb3090fb251c4e127673893fd50c167499ace5f2102fbd57fd849934ba1f507a966882f94af340fe12e3bb3f3db4f09034be9f0f1bc2328f6819b67f2bde8ea9bd12e59757b6d2058013122721b9096537d5171f3e1205e7834cf810536eedc702923c971d3be8f2e52537c149f6b791aa4b3bd92cd69dd131f3e490de91b8d0f66fe898271d595c4b8ba140e261b05f781c82a1ca18c03df369266b5619da4fa3596ab0831707fa0def42685b228b9460aebacf6ee44e0f33ce91c75a5c762a431f3a25b380d24f83f7500ba1f562c4a3d989387cd5e58399096c2f8dd28241bb16415411b10b5a29e5f157fd9d1dcf79add1180061bcff034f031386fded58b06cb122ebb1dd257b9847f8d15f50d22883bb61b2f16dd3d276bc933c4559cffbec45a0dfd4929d3017c950cf771447e18ed4cac693eb86fff82f6fe013ebf57696c0d3c2c1193305f81f24218661369aad043d1068ffbdce65209074856638fb2b57cf698cbd8e63339adf2c50100b8a3ee513bc8fb5a423906d856c30ccbd2d1273e223401d9cd3edbf0824a66ea310c2476a6008660e65708b4b8ddef110ac5391a03558040cb0700671ebeecc5b7b9534e0b51ed56e0ca0d1bac244793ac5cb6c1b0cf9569f18f7d7995b6f2acbbe59369075a071427519184fba714666ca10adda49f55f3d62efc0a8649f09c5275992cda688f972572791a5397d97114649cff13e876a734775abeea8f93398b7cfb56e1302d51120770dc387bb63336ab11f0917a8b5b76a7a5423b592b24d22347fed94eec31df1dc573bcc5836bedcf3dd942e3c25bbabaefa018abd9] */
    
    let reply = '';
    reply += `💎有效ck数💎 ${successCount}`;
    reply += `\n💎无效ck数💎 ${errorCount}`;
    s.delMsg(await s.reply(reply), waitObj);

    /** Code Encryption Block[419fd178b7a37c9eae7b7426c4a04203c2574d16668e5b6ce997bb482a43eef7f4430c99223c9f8ce174158279f8976192b0dbdfad8d0e3760b9695199b4abeb0eb5ce9dc422b98ef01a0587df1ee8b99f23b4b3afc3fe78b48bda889315ac88da9f057d1060ec3511adb59c72d7d6dfb0be9b5c780418ee0a6e05641d83d2c54524c9dc37406167c7badbf952906a171504096bb573d20d36a64386a5754eb0cc68bb7aa389b99ee6776320ce53fc26e6fedfb06d0df3f74e8cb9a9f825046b94ccbd63f321b0822206da7a71a2b39c15b1f67bd7931d51f06363f27587f1f0f203c3fad422522b9737cfc2957548bf8a04d0cd97a717bfec1d4191a3ff0c0d0e85518b7f3f0a285403cbe614a955b4168730b4029f6bf1b45a7bf1b629160a339f66eb01797b29ff8a75827e077988d0339974723f12e44723cc1478eba09d9b3c792618dc30051edcc99fa8c776d64e620ce199841094437d9a79dcadf6b6a99bee490926e099c0903a3d5d2b5e1269aab4e90201e477aae21c09174d6f052aa210fb1227b064e09c5f1a6b58a2e1cc8779d4c7989233bf0f378ff5f792404470827dcd1bb1cc1b84062f9160c0a0ff9243fa5e6f2df12ceb1956f6e9c05fbc5e291d7dc77bfec67734b32b008e83d7299b5ec248f3e25b4c17334f376985e3c63c4c9f00985e26e789241973c244cbd7706948cef3669b28d7e4a88d2b9c7a5362da79de4d6db5e8306eba8711fc867ae974abe7e04a1be47bf21d3787ae478a88cdd998dda42ff2b6ab92975a90d63d6a0f4d56b683e8b7e5c336739f4f3d994ed88cc6a7d66dd8807e631a3c284b3f16f440fab2f1ff483c015e10a8a4b6e78437a4fe0c8248c68f45c14b0e1b372c50ade7fdbd8bd9e2d51f87254b51356d1d0cdacec6177cedbebbdf16598812e9356b156d402803efae2d4217905b87fe5742186a8a509b95613fddf34c7c505b1be7da7a605e2e8221ba7127217b101a823294b4b1081d5cb50326fc545d090ca8d55186a89b7aa78d20d40b6c324e29397c4c81c3227e2d64cca4186de15b473f9f2fbab7b2eed6ad883b946e8862bc512357022e1880523188da6581b156efead65445cc86af673c4fdd0dc937a6e80a3150a82b505f0421c94dcab9b64d612e6b0a47f8493cb727363893b1aeaeab9d4764751b26ff296cb3b187f56c4679bfc4ce47a03f2ebfefc9f096d5f493586dc09caacc88a66e661c1a35e9373b52a464c18715dc17ca5eee3b266caf90f98b99ce51027fe19c8759f369e998d49f55cfeb4780315e438fcc15930fab8126920f1915362d0baaecdf6bfd2ce7d17a57bba8a3c2f2a2c415397eb90e6f242fe30bbddcf9a7fdb92bb393f8e5f57a2f8dac624c6ead4cef1430029b19600f5f23d923fb0013a3532d71ba6a8d11cf6aaf728068aba2a0d2be9f1ef7b72a1fdef39bda738c02a4432bd991c7d8111e52655db02932a1e7ca05a01df63b18d722c31d748b378967806008b5c52334f1c78c0cb463c74f2c029e929fb568ebf403063f33101daee7198c285081c0b51c4d3a6914f68c09b25a9b0753ca416fd11cbaedc43a64e05a554b9b59320663aff66a3c5559b9970f6d610501c0f9e3dd7583260555115321d7c9a87687c848e56ae98bb673ce50175c2e1b556d38f728648863c5c587b188455a55f2bc0268f4171f981bfb1fb03559411677445267d062a9e37a034091a89f888026b13f4ece10e87456d5c9cb6b260fa01705d412d677a2b7347adcb412752141251cf20c2cf488061fc5a781405171386250a9f756cb20f8ea9648cec53c49bc7f8bb4c20eccb14d3f494f74fcf98882e545c80f230dd226e808ec2f17bae75ce4c3aa55a624f2691e30c5d2e4cbbd71ae16cdb076533c1bb7270296ae25490461137aa220125099c3e3b9c5d1bd8b17daf760e01bba2bde04e6385aa5a2bb1bb8aed1dd9c70595949de454ff83b16cd3faad9b4deb482754c872b5b7f15fa603bd38aa96ba08f29c260d9b0cb9e48cabfbd42b0905a2b547ed8ff38d990fd3ef24e24f7bd7af1fe0b321e64380727b5ab27802b9f74666d39ca4119c2b48f10716fcb9be5cab3cf3caf42d3cda05d1d23b6654c19e8f22bb678b0677a1b8d9049a2bfa0aff2e00de45980e20b1c27883a21d285b36412c4685649abf9398f562e712b1f0f73a49dd04d5c1d8e8b51ac63e108e2c0e3b74b253418a725db6e01b3996a65d3f1f0a3a55aa4ef3dccf0e584648bbd] */
};