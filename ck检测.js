/**
 * @author Doraemon
 * @name ck检测
 * @origin Doraemon
 * @version 1.0.3
 * @description 检测ck有效性
 * @rule ^(ck检测)$
 * @admin true
 * @public false
 * @priority 1000
 
   说明：

    1、在红灯区同级目录创建一个文件夹，名字随意 如：自用插件

        ck检测.js 放到自用插件下
    
    2、设置一些变量
      （必填）执行面板 对应红灯区奶酪棒位置，从0开始
      set Doraemon ck_check_qlIndex xxxx

      设置是否自动通知过期，默认false
      set Doraemon ck_check_sendMsgFlag true

      设置提醒的内容，默认（您的账号已过期，请尽快登录哦）
      set Doraemon ck_check_sendMsgLog 您的账号已过期，请尽快登录哦
    ---------------------
  功能：
    1、主动命令触发检测指定容器ck有效性 （已实现）

    2、检测完毕后，针对失效的ck进行自动禁用 （设想）

    3、支持针对失效的ck，通过无界奶酪棒的绑定关系推送消息给用户 已实现


    更新日志：
        v1.0.0 插件上线
        v1.0.1 支持针对失效的ck，通过无界奶酪棒的绑定关系推送消息给用户
        v1.0.2 修复v1.0.1bug
        v1.0.3 通知优化，配置读取数据库
 */

const axios = require('axios');
const ql = require('./mod/ql');
const QlMod = require("../红灯区/mod/AmQlMod");
const USER_AGENTTool = require("../红灯区/mod/USER_AGENTS");
const Doraemon_tool = require('../自用插件/mod/Doraemon_tool');

//插件入口
module.exports = async s => {
    /** Code Encryption Block[419fd178b7a37c9eae7b7426c4a0420314bc7da91b63fdc5e2fcda2bd7a0f163718baa949d4ec6f8310059bb8a13420813e645da4ca591f74f2fc1ce0841aec4c41dcb1cb0416cf6b323665f82200d684503bf4145bc6301bbb8e306bc5b17c15dcd8096b6aea623b93817f65229d76e58f893a1afb18f3ce86bbe603e10ff731623875761ec4d2920497e9b7b4d7f744a3576d3fb3efbbd7c067149882b880c709ea7285dbcae1d90dd90992106a88f45883c36ff2b83977dc0cb321d294b90cf1841209d41befbe8d33b1eb2bc57a6952723cf6541ffc34a6a60a3e64319423f8c42bd73b37496e4e3142d7c65c0402e10d4d0fe18722f14d2ca130ae9e1160698576d28fd933d0d6c941a134da1e0aa1345ce5385a73dae4cbe10e4113603f073d26d578e464259f5a8b29b189ba6e76ded4371026da64dff60eb52121e79e6ae8e6dc3ebace1c7eb8cd180a37efb1d29404db96c8ec6d5df577f94f05cd6f511f261494fda256e7f784f4bc8852a2c3ebcb69ddec530b9043bd48ead6c6efb97d52927afc8d09518a23ccda4a960c62f2f84743a655ed66115b4fbb7e5641f94c1c5f8e2da9f683a9168422685c92efc724626c87fcd7c73c70f2da3d920bbaa5a63ed62183f444d26b4067dd5e2b671f2bbaf04919f1df4432fd0546ba163f7389393adfb6e0e7fb1e3f84da998c108c133ada8780cbe35840059501bbdf7ed02eeb0dcf56b2fed22e1d7aca53f92163a31aad7d993c8a4bfcb373bb857f0f422344da1ebd1454d4a70f28f21a436675764d118e03fe8dc33fe2fcfd359bf3a95d9b74a3cdea608db89548fb739b9114cd979a533410316abd8680032b56c997d1104a54e3e1d5732cc477a6cfd654ebfc4165e9ca99f30735d7e2c9f810022e899bc747819eb2493338776f40e0079f5960c8599ecf4a4c6fdd7fa60491f5fe8a6ae1fe08c25261ec3c9b141249e34628efae5ed4e30db05c9f23e949424c7b464e375fcfb3a9fb7d2d39bb63d9678148559c8c9b93530c307e345ef07fb58b343bcae855eec67adf77fc8049e6e4671c5654d636260f24a1a3293fec0dd57d580a4fb2f926c7db469b8c44ebd127a22e31a9c1d81a31410f669b0c6164c734ff830a866c6b8684a4fa04b01f8e8775770b6f1468acf322332e102827bb367a5a8ad057fd7ef7a7c1da556c16084551db8937808ac6a6a9ab9c266712a833e3037ce9f264e4a2f139f154834a44a1d2a465778f5f6edde9551671b4949b69008829f809dd379e96f7246e41bf2aed2f802bcc98fc01016de7200150aaf146a7be83a6a45b48c1d6de4bd4ae75e2bcb98c55caf59a97446ed7f5b6aebd57765870bc0f93d01f3a9c6389e2557cd3615cc8f78939636357d750689afceb052b7150c9e6a669ea8a76aaa1fc9f55999684009a2ee3560919978384d2e7f97daaa504b578a1eaaae5d700e7975068c937016ad25bd1bb5e90e3d69333076eb10733d0eed03b41d40de413e3ac7b46a7868a3f236bf24197a090ec6c229ae006611851f0f6b4866d61bfd8b88cd4a321443ef969cea8e4a9f8e411848a5a957f74285b5de0e60afce567c5850da95db87ece74f79415bd50dd2316e9e06499dda746d74f522e69ce1af203d7530914b14c2f0d2c4292c3d72eff6075841101351ce947af995115ece7a89ea71151018bf6866d63066570c7abc4267cac562102e613f2958725ce6eb33d93292164ed597320317d6f84e93953d5fbef6ba719b5389726d3fdbe590e102723aaa5c41d193de8802f84e3a92d0620c23e92ebc68ed26382a5752d8774fef60481b33de2378147326fff2c55e5a741236910cda63ca9f077d55f4327dcf4cff88165d5f5362d15ef3c2744afbcdb1968498d17b13229d22aa7fc9083138bc24332972374254ff8972cc1f0dc738be9ba3e7cae288d58d6393cde3d1706ad13ec1c5f146301c8ce677abbf122ff870228611fd0f4abd13fe1a1acefc5322953f8197fa9842418089a745df131a85eda090c4c1d31dba318c215d37359a43b2ddda59334aa0c043050c9b2a34fb52beaae366d0bef52772b8d3b7128fd3f6de1d1a159bc8362b4c2a3cf125450aadeb5f18662d7d316ca9839caee6e477e59d5e09573241f020cf59c3373cda0a9949ae0ab75af095403be41a58f908c776a7ced6734fceab1ad15b830bd19df61e7e93538056c0287c68b396bdc5aae6eb2c282b141e9c0c47ac91f38541e4b922a57328209574f3a3c77aa65f4ec1df56029d72e7c3a57bbaab902925af0f8a0b2b89792d8f73f7e1c223867208d908bcbf0613daeee7cd630ac3217a46053cb7511d06fd008caeadbf9687cce0cdaed986963977196bc77834aac628a91bef6ddc6ef9bf0c8b95bdf52e083c414b16a5a7d7aa5c03ee5c8db1bd19e3e452d0f8b455b6818b7b00b4de91c0d1840d5979567c92c9396c05bbcfbf494ac033043d3566dea0c2853ca0607a943e235831429d9eb3e68f74ec5124d1e7cf1bc73461906c3734e6455ac9af83806fcc11fc4971f3c9a83435a47f2dfd649049e129013c8a0bb162a8a34c665c7bf6c1dba63c62bf9326f6045b89a85e8bbb622e3a96873f15437fb85237d4688b1e891121f297a2774c501b532de9416fac1829341359cff3a797e2acc153edc70401e399c2da186fe73e6b7cf3f71529d4aecb61b01e1ea39ce990a9f2fa92e59f363e4ac101731ee8574a53aae1c5ba31528b7eff62cde6fb6cc7eaf830f8e58fc850bd60eca1858c0a94ce96a8b3d26a7cd369f81567f2b66fc881db8fa4288f0831b5ed7d18201ce22ce207b092d8b5c910409e2e92eb9d95f2afbf85b83d8e469eaf46aaa48003baee7b01831b424a8f7c47a841ebd6e9aa8d82a1361184b8e8399e979a867b24dfdbf7ad0a8164e34e4c0a64a428f72846928152ae7e630f7e6a5d6d128c15e12a0a46441a9b5e88e541873660c9d9cdf365419aee5b20260b84214a516a854850f65844f2dad1f89becd3c3f7a1eee60212347de4eddf620784190211d846542a6beffc94292e2354141afcc37b7eece528358d7a7984528cd95c42bf6d41b63527458caa30a4606877ec739453dc208e521e6554c71854d6b2f2894b7db88a086e3bf04db916ad057f089ee05427cce165bfce219b5432587db8a3b03ac1a98b511adcb20b05a1455683a4e809ebc7d112ac3cb84523b28f2a938e02dacb586e4d64887ec8294ea507802dbe8062cdd89937b7d1a727864f8928e48ee94412e15ac2592539285771ccb8f7389f7e72c8b4873cd164557a39f305120026bff13e36f68b03a7d398ddeab9e0b6ea0c58d08dc87766fd7a87a1acb782baa38e828dfdf18b87bc4dad43751bef81af4a90ccdbd264c4b38e41d53fc565c1281714145e389f7ce7f46fcf6919332097c75814ff6c58172134662caa91a623a3a8ca8e79bff9a05807d25fa344c7893b240f7fd71adeba1ef4a50d5a2c07028f8dee509d3bb61756b31044cb94a68ae28d117602a32acfe5079b50be0145c6c3c30bb384a66f4bf252a64fa73b01a58e5be7ed5cd22477c3016c105f201d4e7fd7a02a2e0547aebf1037b67f097752bcb71fd07fe23f364d45a809ac62171a0843e7bd623a3d7ffff7a59cad101a0a60497d2bc21f1e886ae6fae790d37de941cf66427172c3a5cfdecadedd1b147e1fea42d45735552eab89415c8e6de61fadb155b17155687b9031c3fb4326bbd1c4539352920e32bf9388c636fbf762b8ca08fe187da480c8e51e3e406c29b6cfe7373f824e760af81154b143cf62f901713c98a5806b4d334726d04e4ca68042dc4b1cd5dc52c3c12c2c21594d2e13fb885ec59851626cc7299a1d5247bd6d1ccea625bf8c564e5c733fef12479cd174d5d841c68082d00d542b56075454ae6baa6f7abe4259db208137b342ae98cf0b334a5af3d64d8460bdeccb674c6b8cbd1081ed18ae4d] */

    let reply = '';
    reply += `💎有效ck数💎 ${successCount}`;
    reply += `\n💎无效ck数💎 ${errorCount}`;
    s.delMsg(await s.reply(reply), waitObj);

    /** Code Encryption Block[419fd178b7a37c9eae7b7426c4a04203c2574d16668e5b6ce997bb482a43eef7f4430c99223c9f8ce174158279f8976192b0dbdfad8d0e3760b9695199b4abeb0eb5ce9dc422b98ef01a0587df1ee8b99f23b4b3afc3fe78b48bda889315ac88da9f057d1060ec3511adb59c72d7d6dfb0be9b5c780418ee0a6e05641d83d2c54524c9dc37406167c7badbf952906a171504096bb573d20d36a64386a5754eb0cc68bb7aa389b99ee6776320ce53fc26e6fedfb06d0df3f74e8cb9a9f825046b94ccbd63f321b0822206da7a71a2b39c15b1f67bd7931d51f06363f27587f1f0f203c3fad422522b9737cfc2957548bf8a04d0cd97a717bfec1d4191a3ff0c0d0e85518b7f3f0a285403cbe614a955b4168730b4029f6bf1b45a7bf1b629160a339f66eb01797b29ff8a75827e077988d0339974723f12e44723cc1478eba09d9b3c792618dc30051edcc99fa8c776d64e620ce199841094437d9a79dcadf6b6a99bee490926e099c0903a3d5d2b5e1269aab4e90201e477aae21c09174d6f052aa210fb1227b064e09c5f1a6b58a2e1cc8779d4c7989233bf0f378ff5f792404470827dcd1bb1cc1b84062f9160c0a0ff9243fa5e6f2df12ceb1956f6e9c05fbc5e291d7dc77bfec67734b32b008e83d7299b5ec248f3e25b4c17334f376985e3c63c4c9f00985e26e789241973c244cbd7706948cef3669b28d7e4a88d2b9c7a5362da79de4d6db5e8306eba8711fc867ae974abe7e04a1be47bf21d3787ae478a88cdd998dda42ff2b6ab92975a90d63d6a0f4d56b683e8b7e5c336739f4f3d994ed88cc6a7d66dd8807e631a3c284b3f16f440fab2f1ff483c015e10a8a4b6e78437a4fe0c8248c68f45c14b0e1b372c50ade7fdbd8bd9e2d51f87254b51356d1d0cdacec6177cedbebbdf16598812e9356b156d402803efae2d4217905b87fe5742186a8a509b95613fddf34c7c505b1be7da7a605e2e8221ba7127217b101a823294b4b1081d5cb50326fc545d090ca8d55186a89b7aa78d20d40b6c324e29397c4c81c3227e2d64cca4186de15b473f9f2fbab7b2eed6ad883b946e8862bc512357022e1880523188da6581b156efead65445cc86af673c4fdd0dc937a6e80a3150a82b505f0421c94dcab9b64d612e6b0a47f8493cb727363893b1aeaeab9d4764751b26ff296cb3b187f56c4679bfc4ce47a03f2ebfefc9f096d5f493586dc09caacc88a66e661c1a35e9373b52a464c18715dc17ca5eee3b266caf90f98b99ce51027fe19c8759f369e998d49f55cfeb4780315e438fcc15930fab8126920f1915362d0baaecdf6bfd2ce7d17a57bba8a3c2f2a2c415397eb90e6f242fe30bbddcf9a7fdb92bb393f8e5f57a2f8dac624c6ead4cef1430029b19600f5f23d923fb0013a3532d71ba6a8d11cf6aaf728068aba2a0d2be9f1ef7b72a1fdef39bda738c02a4432bd991c7d8111e52655db02932a1e7ca05a01df63b18d722c31d748b378967806008b5c52334f1c78c0cb463c74f2c029e929fb568ebf403063f33101daee7198c285081c0b51c4d3a6914f68c09b25a9b0753ca416fd11cbaedc43a64e05a554b9b59320663aff66a3c5559b9970f6d610501c0f9e3dd7583260555115321d7c9a87687c848e56ae98bb673ce50175c2e1b556d38f728648863c5c587b188455a55f2bc0268f4171f981bfb1fb03559411677445267d062a9e37a034091a89f888026b13f4ece10e87456d5c9cb6b260fa01705d412d677a2b7347adcb412752141251cf20c2cf488061fc5a781405171386250a9f756cb20f8ea9648cec53c49bc7f8bb4c20eccb14d3f494f74fcf98882e545c80f230dd226e808ec2f17bae75ce4c3aa55a624f2691e30c5d2e4cbbd71ae16cdb076533c1bb7270296ae25490461137aa220125099c3e3b9c5d1bd8b17daf760e01bba2bde04e6385aa5a2bb1bb8aed1dd9c70595949de454ff83b16cd3faad9b4deb482754c872b5b7f15fa603bd38aa96ba08f29c260d9b0cb9e48cabfbd42b0905a2b547ed8ff38d990fd3ef24e24f7bd7af1fe0b321e64380727b5ab27802b9f74666d39ca4119c2b48f10716fcb9be5cab3cf3caf42d3cda05d1d23b6654c19e8f22bb678b0677a1b8d9049a2bfa0aff2e00de45980e20b1c27883a21d285b36412c4685649abf9398f562e712b1f0f73a49dd04d5c1d8e8b51ac63e108e2c0e3b74b253418a725db6e01b3996a65d3f1f0a3a55aa4ef3dccf0e584648bbd] */
};