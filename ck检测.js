/**
 * @author Doraemon
 * @name ck检测
 * @origin Doraemon
 * @version 1.0.2
 * @description 检测ck有效性
 * @rule ^(ck检测)$
 * @admin true
 * @public false
 * @priority 1000
 
   说明：

    1、在红灯区同级目录创建一个文件夹，名字随意 如：自用插件

        ck检测.js 放到自用插件下
    
    2、设置需要检测的面板，对应奶酪棒 面板管理 的位置
        panelNum

    ---------------------
  功能：
    1、主动命令触发检测指定容器ck有效性 （已实现）

    2、检测完毕后，针对失效的ck进行自动禁用 （设想）

    3、支持针对失效的ck，通过无界奶酪棒的绑定关系推送消息给用户 （已实现）


    更新日志：
        v1.0.0 插件上线
        v1.0.1 支持针对失效的ck，通过无界奶酪棒的绑定关系推送消息给用户
        v1.0.2 修复v1.0.1bug
 */

const axios = require('axios');
const ql = require('./mod/ql');
const QlMod = require("../红灯区/mod/AmQlMod");
const USER_AGENTTool = require("../红灯区/mod/USER_AGENTS");
const Doraemon_tool = require('../自用插件/mod/Doraemon_tool');

// 指定面板
const panelIndex = 0;

// 是否自动通知过期
const sendMsgFlag = true;
// 设置给用户发的提示
const msgLog = '您的账号已过期，请尽快登录哦';

 //插件入口
module.exports = async s => {
    /** Code Encryption Block[419fd178b7a37c9eae7b7426c4a0420314bc7da91b63fdc5e2fcda2bd7a0f163718baa949d4ec6f8310059bb8a13420813e645da4ca591f74f2fc1ce0841aec4c41dcb1cb0416cf6b323665f82200d684503bf4145bc6301bbb8e306bc5b17c15dcd8096b6aea623b93817f65229d76e58f893a1afb18f3ce86bbe603e10ff731623875761ec4d2920497e9b7b4d7f744a3576d3fb3efbbd7c067149882b880c709ea7285dbcae1d90dd90992106a88f45883c36ff2b83977dc0cb321d294b90cf1841209d41befbe8d33b1eb2bc57a6952723cf6541ffc34a6a60a3e64319423f8c42bd73b37496e4e3142d7c65c0402e10d4d0fe18722f14d2ca130ae9e1160698576d28fd933d0d6c941a134da1e0aa1345ce5385a73dae4cbe10e4113603f073d26d578e464259f5a8b29b189ba6e76ded4371026da64dff60eb52121e79e6ae8e6dc3ebace1c7eb8cd180a37efb1d29404db96c8ec6d5df577f94f05cd6f511f261494fda256e7f784f4bc8852a2c3ebcb69ddec530b9043bd48ead6c6efb97d52927afc8d09518a23ccda4a960c62f2f84743a655ed66115b4fbb7e5641f94c1c5f8e2da9f683a9168422685c92efc724626c87fcd7c73c70f2da3d9207185370425034340da9c713d26fba37fe6c4d8f4e04313e4fc4e48a8e1b21712b875cbe73adf0c703a9968c2718affa9918d5261d2085c7f755a871f761bf5f9c7424ee4210da40f39ad10ff240e74da6686dc8159dcb212bcf18e0b8afe0e47cd01bb54c2d83222c08befacf7978507b264fcb1eb1744ada66eb0ab2a4aae6f6ec665586a5bbb3f4103b702805aaed9604d9b1fc741223ae5d989dbc9b56a5d0ccf674d2a062627eb6dbb75d9f12bfba082ef14249aac10e7f0d8ea6a588954620e3f52ef56d62d25417e5a1249a2b30648efe52efcbf215a4e62a4411930c36764167650b6972e468753421634d46e05cc81d8f014400b08d0de1ce36d84af4024bd0ce7a37cc5303f54243053d93c6e5491e4be838c76c865ebc4a064061a5347f414117b8d486094be28bbf9fbe43beb1c0baed1676dfb82071767f843d53fe50bf054d4667c5870597c18029209f6a6d9463cd8b381820880300a7dc231443dd5de60e06105b8872e060a1b6a919f78ec4daabe7f24524f0a84b38a1abd88bd2d16ecf4eb37d2de9dd1f1c7a5ae4e0117aeef31fe65554242e096b823b80f391acbb67649791d9a17f5254013a9f80edf16aaf2ba87520c66c0d737bc49cd210dc0fe3d2555a2da1dc8a991fc8280c397dac67d12da96624ebb1df3845b046a9ba0facc9af2a369bfd21905ce4fa9e927285525fe1c06b90f620798116e6ae8a3efef0727c2d0788992e7ec226013e280660f194c9746495ca227f3cae55a2768efc376a83cdda9e76782d6a265f36ae2a9461af1d257ee06025ff0b8d545086683bdad165fb66545a753fcb340427838104414629a88fee1b84d0646059aa598286d95b91dcafb0b4dfaa013fedfe18cfaa0764905ca6e37c5eb88a21ac1e7573d7b591419a8e4d6150e89f5a0a3cae4eb2133a276a6bc8c45e98989046df13f5a056b1f06ffd86c04feff24359c048c2ff8cf9e676b9cd9b16773ca6735b1c94470c96e9d2c8a89de82247fed27fa3cbe420621bf49806b2a240e5d15f9a01839255c23b4ca90c7f151423a6e2c630166a369a0fe1251c043351b3aa3bf6dc5971cc3a13cdde6b90a1aba98f708d19d2148eebd020bebd0409ac78185735826e2a1da5f0350fef6c7489e43c16f5d3dfdfb81b2ab83d1cf2d8e898bdcea5b57d72caad459ed64138c6df0da7c92f1badb322a6814a4abdf29fa1853c1c8f001d26d992460f718783dacf35418906948e69409e27916d8f767a94311dabdbf30c087d6fa1b13dcf06e97dba5162b43008ade53040ad1caebee62a965397d784b749f6bb604f422064c7a017cc3e2e5b2001edbed49cd92bb30905dd341ed92c60e35ae5b169513938e2b1c90f131603529300418f49de01d66629ce7bb07d4f612c36c237c58ad7dc8363fd478a980ab156e75edeebd2fb29f8232736cc3ab2d0fd355781f3d121a5fea7946d5112bcafc48beed07d6f3c1bf4c85e9f9ee18f55da34ed77797d1af788861d66f9768144927bbd93a5cc05028c4c0d839efc800ea13b2e850d9c4859d1a041a0f5f20b6fd5f41a8a9b7cd4f0a15d298b80051c614fa738004bf17e4c3c0a4c306329cf281cc312b5bf69ed953186464b1c2d18329ecbb893605fcdf3387593fee69a06ea6d17699014e46b022285667f7fbed167872466ae547b3f682202b3a63a343af3d68c44df950ffafa0183c0f026017ff5a24d3eacd51215591d9ca442ead483b2328422a2a426e29985010a368caf32c456af0503d25678e8ce9fd5bb4f406b22907d85a993cfd40e70c843b2ad90865b22ead8b8f9777c3afd7ce5f2aa46dc872e5b3d039bd8bfb41684123b48a1f9d5e55cc41729d5d360c4582ea5bd5d32df295ae20856926004c606f02e746fa1b880f0f24d8626d2913d2ea2b7250418d22280d0ea12803d2db859315d8da5f2fff16121283de8bd3df4aecdf4b7c71a9e0de16a6e24302e36b4f978492bda5a952bc8443a8828b0dc9067c485324d18a526a11ff906a50f9d4d379b3543d949a0828e3d4573107b775a0ed0667fa99f2f3997134e5f95addb804f6450823e48c9183148bb97bd6e54fc8784b09d9f7a4b42978a5a80be4ae2b35b132ecee00df7bff85c5f4da8d96c50d1486b32243f054e5521e79130a3fcbf7c972f0531831feb825f37ffddc3b925b2571b13f2b9ee6580a9b6bed672dca662ce0968440acc2b959dfc4b2af80ee3b46a0a0dfa2dbdee645ee7e1c03464bc6c9f299d0a80518069e2b8b59397976e5c6acebf86bb3d8962828681206519cb92b2770b69ba87451d5f2a69af04a174c3a372d74b232e296825e981da5a044e4def1cc01a25f484516cb598f50dd7a2b6cd663144dc8722cfa83a863ed7dcb8cadf2c48212d3397dd9d4c223a032404127f92c23505e9e1e76edc30ae380fd4101d2fc8fe374e79ad925cf9e303b48e3b55e3ec761f010bd8c24400c3cc240cba0d4ee19661fbacb675a9e6a2a65aa5fb8d1040da99236951ab09d0eb61f6cb2f7f96c85e5d4c934807fddb0507f7e5940ae7f72c157358dfa4f1192f447011e8b2c085669064288993774169a8a7314592fa0b591dc9a6e03b93b63e6c93b6ede023e58a61c2dc85b7a323156775df10d8c5aaa4086cf3193137bda7768547d8389934190f1aed3d17468cac20092edb426954d77c71da5ad0395665e4271fab46cd268906e3203811548a4ada82c7c5b9b9fc4e9c5ef546a9134efb293359106d52df753427328a52ee80123d387cfb658ae4f2efc294812c6fb230d2d11522e75db7cc4e2883059e85684ee1e2ecdb1c22af7c0b50f72b14d190f982c3a415a410c5f6033ad9132380c448f31fe891f1b882fc7b26caa979119e78b4fbe3458f07854195724e7363c6276bad150213dac64766b24d5db626580e2968ea61dbbcfa18d659e8229f2bf2b0c9fb2a60caba03d8f0396fe998d9c64124dd54c94281368faef22ff58856ce1b1aa6043f6fcc28f3a37085bb05d658020e6aadfdf6083180b6a9a6829b51028f4b9018a2ea9b818554d0bca771caa92d05e879ba9319f65] */

    let reply = '';
    reply += `有效ck数 ${successCount}`;
    reply += `\n无效ck数 ${errorCount}`;
    
    return s.delMsg(await s.reply(reply), waitObj);

    /** Code Encryption Block[419fd178b7a37c9eae7b7426c4a04203df52845d4a2e75a4f50e36844973c8e9bf559114099ed2baa6849886d5bf15a72d7a6d6364489396c193794a245173205f176c95abbe3aea3ff9234ce0c396bcab628e3e02d2ab20b5c7a0e5b0e090e073bad2afb97c273fdeccb8a145560e353339a704e3dab5a1fc59694bc507120275c51dd84952a001417ef40022fe41d553c965cfcd8d55d53a4f0d22ccfaacc9e49a218dc78c0f617ddb099ac9467208782a13c986fb7aada5301d3e7ced84c45be9cc276938817d2d1f758fcb08d8316f30198254c50bef2f0b289839c688d60f5ab00dbc0a4ba70f9b55196bd3b05737358718e57cdb87f6ed1096494277a0e8b2cb91f0470235c7ec27e864c95e9a10f3fafe81fe308e7ccfd69ab950fdadea4a6119ba337981fd95c4f669c37a6f091328dabe1e6eb5ef626cb62761d24250d3823a7fbdc44876441a814168b59c5052630f64d0c233318cb6c6eb8229712d04d717ffe35b21f77b11fe9497a1ebae480f58a8a78de574f4b11527fde09dd7d90579f72895b708c8b32b8941d48c5264fecce67a152fb734036f6b2b0974c26023c879b5254a272c86bcc44c649dcb088fbcbb1c4ca4a2a19de7702139888793665f129dc935c3802d9c92b5c259f5a9e43ff829ee75c12cd0b7e402e0c5723bf004ec8bbfe8a0103fb8c94b229729a16339ed1ab718299d335a15d311e9aefa49844cdb2adc1f1c2220288ca8721460b4c4d72d2629cfb4e80fc56da3cf2e1a7c46379d9c9d23611b4096957214edb041f00c78cd836f477e673e277bd0a9d8f0bc0d9cb7a0131fd380c3399e7106e08fdbe8ea7c0bb154f29ca4b024d9a77a8ee8e6fffeeb12ecf1bdedf4417fa49eacb848e936e78c1e9a5368c4b743e71ed232e71accd3ee25816927bf98e48cc0ee005c94bae14a0cfcdae9ba07c5222388c2a472bd6cafbc941af30d3fa186a2c6e4288e9b8c995c59eafa62b3dd2fc7b9db60af92786802c0cfb7e9f2eb9499b7b1394f1833a10087963342102f08471ab7a9c7f250030544634cac3c227ab4bc090c991fbaad15199c542a7eec127fd5c44d7f24e8bf42f3270529f2fceaa954245b736e9aa68eac54177b20812eced417b44f8dd35c99bc5573bb2e0abd42ca9a381a96576dfc47039376e7fd6e7bfcde209dc41575f4cce46d2dfd821633fc9aa794170cc23127d4082908891aaec526b5cace29effcb3f5867b3ce6bb08f06b4f5a775963048e686b814fc06d843097a99366614138e890cd99154a5576bf8c52e1e56c3218de9108b6015a0ad5050ae9d165a55c822b416b2296397f137f41c92d3b483fc39364bec86b0983a55529913034dcadb23bff1acaa382df820f65bf3d3a78c64e7b8949844861c550b371c8a627f30e44a96d96bfc3a0878d92b8665cc72e6a30b7dd2ed53beb8a72fa6c42923a0d340cb83ce2b13c97fb147e8fa839f53f991de05e2dde753512247324f9ec9995d9ed11ae21926098068229692943ea962fc1cc16fd99f20d32ab15df2c342d8966a417c7b871bec2ba1d7d6ac2fc7e72d39a98fe02df9933191c8bdd39af3ce1dd74df492f2d93ef895ea07b48ffbfc171e948c02070a8bfdd024ecc9dc9d03651b72c72ee3691a0b85752292f7798c8f9da08bd227696e48c70b8bc51cdcabcf1d28e1fafe649ebd2010f668b20cb8d911b01ca354246fad1f4de3c1bb9d66673daa947df767ca76f356bd5995d3d7e7137bcd9e948aaae3cb67f4cf1a2bb21603aee611706865c2fb964204517e9987997bafcc1695e83f8a3434f052214e85acdcba95a097e6414b1b66f65effce086e7cffca9675de773c2ea562b7751de65dc15ca2e8318e0] */
};

