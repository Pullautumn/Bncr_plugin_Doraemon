/**
 * @author Doraemon
 * @name ck检测
 * @@origin Doraemon
 * @version 1.0.1
 * @description 检测ck有效性
 * @rule ^(ck检测)$
 * @admin true
 * @public false
 * @priority 1000
 
   说明：

    1、在红灯区同级目录创建一个文件夹，名字随意 如：自用插件

        ck检测.js 放到自用插件下
    
    2、设置需要检测的面板，对应奶酪棒 面板管理 的位置
        panelNum

    ---------------------
  功能：
    1、主动命令触发检测指定容器ck有效性 （已实现）

    2、检测完毕后，针对失效的ck进行自动禁用 （设想）

    3、支持针对失效的ck，通过无界奶酪棒的绑定关系推送消息给用户 （已实现）


    更新日志：
        v1.0.0 插件上线
        v1.0.1 支持针对失效的ck，通过无界奶酪棒的绑定关系推送消息给用户
 */

const axios = require('axios');
const ql = require('./mod/ql');
const AmTool = require("../红灯区/mod/AmTool");
const QlMod = require("../红灯区/mod/AmQlMod");
const USER_AGENTTool = require("../红灯区/mod/USER_AGENTS")

// 消息撤回时间
const waitObj = {wait : 10}

// 指定面板
const panelIndex = 0;

// 是否自动通知过期
const sendMsgFlag = false;
// 设置给用户发的提示
const msgLog = '您的账号已过期，请尽快登录哦';
// 每次推送消息的延迟，避免同时推送太多消息，封号
const sleep = 5;

 //插件入口
module.exports = async s => {
    /** Code Encryption Block[419fd178b7a37c9eae7b7426c4a04203f8da46e4a0d539f1649352742433d1fae9abb4cf4c3aafdb6b61bd39ab648003c490a43352b0991f964367ad5700061b4a01d2f263443b1bf3c55a218b8ba4ee893cc481d90e71230d96734be7214f7664a3bec1607f135f5a34a76536fb200f0ad1b5be2b618869900938ce39e6be89b749f819ebacbd7dc7325102cc7a744bf5f1418055330c042ec180a845d01a70d6e284323ab26ba9229c0d8e8021646103f8e3fdf9e13cbffee4471f112907ad6e7fe12e95ef5c9d070e92033116e87133f96555cecd8494f2481b0fb7f7e1f257e525328a937d5196ff0397057f4b264bf2b1699288bae01ceb459f42c32d9674291ce47d2e2aef1d9a1899a2f43607d7b5f9d7a817f041680efe9b5de57e01e01aef7631feab993328b4f2f75ce5177993878531af175b7d7dbab0006e43f698a5e1b9d93904c8669d86cc114d032f6eab04600c01b13fc658b9a4f1a0979474c0a7a894bc521a776fd6f4aafb108a48d360a659ff40f90adb80a391b00a2d63f5f58b98e19521c10822e6d6daf3e457d5d52a31009f1258fad373b87f4d08920547e3c6462dfb7574684499bf644c9909c8ca8da63a88fb852fae64378b7b8a01319d67c19a9138580ebe9561e0b779a142f6f528e787e4d9a06068401515b56ce15f3b8ca25800e644b2ff73eeff3eb1eeb2eb1a170c5f9cf6d45b6cfd4e7fc9f7a0d8303c68fb600a8e2da491da14795505cfaf2d89a1c98c31e509cd585687b53524316015a5883cf81b6cbd356da3109ff35645da2cdedd176019cea04065dc94f3ff0ba8d4a37f2f78a243aa002c49795494c8d7e91d408077dbff1eed290b287b5ae1a21d8a06b3ffaf4fe785d6ebbb256df4b6c9ed582c8a07386ad078797942d8084f64b6cafdb935f0978d3a6a51903f76b7a02deeb6bf3c9746e5aa95acb85575980720ca13937985d809286d227ea0969bd81e6cac69c34f93d1d51d7baa3a9ccbc25b7496525262441b9f08c1aa1c4e948e1dd3b79f55b89cbe38ea50bea1029e5363df37b88a76d348a6436141a09a13bf0d14b2c0b3e4d0d00734849cec6c8ebb0b21889c3440f7b329e126d76423d1dfe9a9dcdda1a22f8f0659b419bff3cc498869ccc321e19ab1f8d8164a46bd0d2fee14aca9753727c90bef830bee1194090a4e8232c3ac6237262453b8b2d9d12983e9e617df0fd0695cb55652a3368bf86a6dd29cdab6d7684faac9fef2845ba1293f76a09c017df80e0c863ddd5d8b0a9ee3560fdeb35c748ebb815617571d609414f5b5fa7767526aa46579838a0512ef4121a854451082a0101bc184655b1178c663ad992c6aeded5241d40af6adb72f894996d6464b448ac1b5bb9054988492ce43ba38e17c964b184d3cb9bf108234b2b10b5ac3ea8311dff84f7bbafbd25e8b81b79bb08d43acb49d82b47dd490f4232a0d2054e3a3363c201ab95ea2f9104f570464876b7710e60e965cd290860d2ae54000d1c6493d97c5c329878ce53813d996a959be45abe1eff00829d20bf689a4c11c0f5bdf663eb0b91bf5a2080a36a8d54c7a354465360ae52777dd57f5b9809b220ad22e68d9f449a082abc419bfa7ba4b862bfef0a4f71522f0416f27ab6fdf0a477eebbe587f81c74d98d0f4461518713f6752e240bdc91f886fc58e24fe089dc73b37af42a2e3a920e8a93c7637c164cf5a7168b208a5f01cea5ccbcb91bfab3f2015f151c03ab42b5357e8755c036e15228a634fcda173400841c6209562d40e2c461f5648e67806533e8de02940d8453b8aff35c586adc8b07c51e5bb3f9b1aba9b96d1ff73ba5c0c42f96d0a1c547d3c2dae56d6886878eb66d78ce5da1084ebc90a530923cf6f100f96d77e84e12de7a4bf095cb57d881dbf222c499660735f29909a852a253b81d4938fa21a597b763d2b5c3096d0268f38d9c2f07559679f0b824156060c636c2988e7a3d8585fd24ef089d8508993b6b65aa8dfae035a4e1132b2498559cd6a1a45769fde58009d4b21ab2155fa727e123386a3267d0195d94c5027f6e4b0a752c1e40f7d1cee4cbd2237ad73f9279fa3683e85e7d7c0b29cc43aa2ecd35d5a1a5f555a70a94ab903e8cf6e1b1dc4c41077ac2654d16898ba1f9214c0cee81b4c26d8e9c318c4d1107af4a492c533ccd4adf5a6bae68290d1f9bd169aa561fa9b5ba1303c853b1771baeae0d73cb4fc36a3d125fae67fcba5eeec5409f61420c8e747747ce539a5425d9fa85c5d310d4c9e60e00732d2454c3748fc35bcf2cdb940b3f79d3bc3936dadb5bcc65978192edc1631fd4dd3114767262f1d835f8cda4cf7ed71ee0151308b7ff6c513b987aeeddac78db578d0a336c01b0f9fe5a4c36e915f50ccca4f96961e03b2b2b9cbf0581ed9a6ef6891fe2259085f1bbf91349ec8e84787074413a3f544676d8c077496b22dc9c48b3e76c0b2ee263cc9849d58549a0881e680c786000ce3c2870ab65044e980a4595b4ae6b2980c668ecea1ce10789013d047d3e1b83381ff4d6a86a699a251158a388d2cf1b6ccad40844d16dc1ce312e49756ce06e63b8cca63eb6355edc5a909de69c23bf7dbb1733632d429c9827ab54e1c81015e9a401f7176bcba1f3aee602fedc27fa5701190193a5a1c0b60b85e47f3487defdafdd815d7d7cc47c0a544accabe11cf4130d1720747a7d80e42d583981bdb809ffd7859dc1ca8c2cfe2c65b6100c8ac1ee2cd271ba33a52baf54c261ad20024ceb504b42423a30b835ab61aacd92c13f48f7d789cb8151c4a3e9edf85f632ee4a26784a6db0d2801dcdfd023da0d5b94af76fd868f6b57e7dd5c87d19d96a8b1e975dd927d755712000a4c51e8c4942a9740243c5ebcfc5bd27af6bb14bb0972898bc4c0385a4cd9161e24d43261d6a000572ce6e62782063b786fb9399ca8fdd682cf96ab92e074d38bf1e065bbe31be2b7291fc9bc0bfe1a696a63d25a68d39cff0319e52c672cf71301c3e919602bac1f2c2700147c9caac0e282df006a691b959799075e7714df7199b44486a30ea5f6f1b1b9369669ce4640a3e92d715634659f923760fff96997fdae4f87871cb66cd6b6094319e199e4f7bb7a13dc1c17ced01491ced07e61b8f0ea271a7a8b68ce2f0184c0aa59bc088c7794268e84bb8e31a57e1b06b2603429ece0f4cc07f215e2e0209cbe1476a8934] */

    let reply = '';
    reply += `有效ck数 ${successCount}`;
    reply += `\n无效ck数 ${errorCount}`;
    
    return s.delMsg(await s.reply(reply), waitObj);

    /** Code Encryption Block[419fd178b7a37c9eae7b7426c4a04203df52845d4a2e75a4f50e36844973c8e9bf559114099ed2baa6849886d5bf15a72d7a6d6364489396c193794a245173205f176c95abbe3aea3ff9234ce0c396bcab628e3e02d2ab20b5c7a0e5b0e090e073bad2afb97c273fdeccb8a145560e353339a704e3dab5a1fc59694bc507120275c51dd84952a001417ef40022fe41d553c965cfcd8d55d53a4f0d22ccfaacc9e49a218dc78c0f617ddb099ac9467208782a13c986fb7aada5301d3e7ced84c45be9cc276938817d2d1f758fcb08d8316f30198254c50bef2f0b289839c688d60f5ab00dbc0a4ba70f9b55196bd3b05737358718e57cdb87f6ed1096494277a0e8b2cb91f0470235c7ec27e864c95e9a10f3fafe81fe308e7ccfd69ab950fdadea4a6119ba337981fd95c4f669c37a6f091328dabe1e6eb5ef626cb62761d24250d3823a7fbdc44876441a814168b59c5052630f64d0c233318cb6c6eb8229712d04d717ffe35b21f77b11fe9497a1ebae480f58a8a78de574f4b11527fde09dd7d90579f72895b708c8b32b8941d48c5264fecce67a152fb734036f6b2b0974c26023c879b5254a272c86bcc44c649dcb088fbcbb1c4ca4a2a19de7702139888793665f129dc935c3802d9c92b5c259f5a9e43ff829ee75c12cd0b7e402e0c5723bf004ec8bbfe8a0103fb8c94b229729a16339ed1ab718299d335a15d311e9aefa49844cdb2adc1f1c2220288ca8721460b4c4d72d2629cfb4e80fc56da3cf2e1a7c46379d9c9d23611b4096957214edb041f00c78cd836f477e673e277bd0a9d8f0bc0d9cb7a0131fd380c3399e7106e08fdbe8ea7c0bb154f29ca4b024d9a77a8ee8e6fffeeb12ecf1bdedf4417fa49eacb848e936e78c1e9a5368c4b743e71ed232e71accd3ee25816927bf98e48cc0ee005c94bae14a0cfcdae9ba07c5222388c2a472bd6cafbc941af30d3fa186a2c6e4288e9b8c995c59eafa62b3dd2fc7b9db60af92786802c0cfb7e9f2eb9499b7b1394f1833a10087963342102f08471ab7a9c7f250030544634cac3c227ab4bc090c991fbaad15199c542a7eec127fd5c44d7f24e8bf42f3270529f2fceaa954245b736e9aa68eac54177b20812eced417b44f8dd35c99bc5573bb2e0abd42ca9a381a96576dfc47039376e7fd6e7bfcde209dc41575f4cce46d2dfd821633fc9aa794170cc23127d4082908891aaec526b5cace29effcb3f5867b3ce6bb08f06b4f5a775963048e686b814fc06d843097a99366614138e890cd99154a5576bf8c52e1e56c3218de9108b6015a0ad5050ae9d165a55c822b416b229639d2e0f1e5018a6f67cdb943bb8056cd58439c1e457d92233f60b9a0f9f3f1c74f96d559676357b79be985fca6be2ea082a27dddd44466c402f7c6683be6f92319b7e4876d08c7ae8e75559c08939c224b3d36ffddd0718c7fa4973f47e5470753cfedecd02aedf1351798a4b2ac03b21af29cc2667f0583c8add5c6787397862c870ce94bab9d8d0bcadb2f10060fc3ad7460f6a1befe79e4a759cb3d66fbd4096cd71fc758b63b28ea9290b5484180e42c60f69f8c1e59c3f3a291e55f3ac19919bb1702bf4f7aa34c8e3dbf3e3e67be147a795e1f1348e447d4629db6258410f7d0dcd7e90eef46924fedfb130c4ed814bc3da4762326032d23818044cda99019941764037bde87fb2a372172b435ebf009a6ab3668bff49948dac79fa17d013033eb49dd5912f3363d25046201115c38b40255515f0356dedeccf311245d1ff9fe819973e9e40b991fc379f2284f26d74fc8aa37dfdbeac9be82d390988982044a6d047b5b7c6f0733c4087a5ab80be36325c2294a7d9f507f6b5c5f44218d65244623f2585c6bf046a5c5fd349da88b1eaae84b95a81f48e2e320b5b2bea83671ef79e68f0bb771133053ba974882edcf92764074e8a210835b58e726a68a352bc17b1015c5f7e87458102d6040b0bce06dec50742342e25ddbfe4318b8d84fe387b92bfabaab6549fa744c73e778cdec7f442f80fe6dc6bb239360bb9551d82191fab494e375ae9932affcaddd6feec02d338ed0b894492bca61192aa6ce9359a43a90dd7277a75c7d4b974f47ca4901901838569e6f31c271edf7af89c7431524b4b6afca8e9e5bfc7725b3ad08c5414fd18f377de699efedd02d73512e8fbe90f52be2f4b000628ad52292a074060fe08c3360688340f5068f50c0e77641874b85154a46ccdf3e99693b2ce27cac1d009579f34f2c98395486b75ce4c3e709a4d8a5ba20a89a26139e1c1141405cdbb32cd8ee3d4543d0589b08a819a2] */
};

